<!DOCTYPE html>
<!--
 *  Copyright (c) 2014 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
-->
<html>

<head>

  <title>WebRTC Reference App</title>

  <meta charset="utf-8">
  <meta name="description" content="WebRTC reference app">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  {{ meta_viewport }}

  <link rel="canonical" href="{{ room_link }}">
  <link rel="stylesheet" href="css/main.css">

</head>

<body>

  <div id="videos">
    <video id="miniVideo" autoplay muted></video>
    <canvas id="remoteCanvas"></canvas>
    <video id="remoteVideo" autoplay></video>
    <video id="localVideo" autoplay muted></video>
  </div>

  <footer>
    <div id="sharing">
      <div id="roomLink">Waiting for someone to join this room: <a href="{{ room_link }}" target="_blank">{{ room_link }}</a></div>
    </div>
    <div id="info"></div>
    <div id="status"></div>
  </footer>

  <script type="text/javascript" src="/_ah/channel/jsapi"></script>
  <script src="/js/main.js"></script>
  {{ include_vr_js }}
  <script src="/js/adapter.js"></script>

  <script type="text/javascript">
    var errorMessages = {{ error_messages }};
    var channelToken = '{{ token }}';
    var me = '{{ me }}';
    var roomKey = '{{ room_key }}';
    var roomLink = '{{ room_link }}';
    var initiator = {{ initiator }};
    var pcConfig = {{ pc_config | safe }};
    var pcConstraints = {{ pc_constraints | safe }};
    var offerConstraints = {{ offer_constraints | safe }};
    var mediaConstraints = {{ media_constraints | safe }};
    var turnUrl = '{{ turn_url }}';
    var stereo = {{ stereo }};
    var audioSendBitrate = '{{ asbr }}';
    var audioRecvBitrate = '{{ arbr }}';
    var videoSendBitrate = '{{ vsbr }}';
    var videoRecvBitrate = '{{ vrbr }}';
    var videoSendInitialBitrate = '{{ vsibr }}';
    var stereoscopic = '{{ ssr }}';
    var audioSendCodec = '{{ audio_send_codec }}';
    var audioRecvCodec = '{{ audio_receive_codec }}';
    setTimeout(initialize, 1);
  </script>

</body>
</html>
